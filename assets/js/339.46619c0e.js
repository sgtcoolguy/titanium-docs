(window.webpackJsonp=window.webpackJsonp||[]).push([[339],{344:function(e,t,n){"use strict";n.r(t);var i=n(4),o=Object(i.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"titanium-ui-webview"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#titanium-ui-webview","aria-hidden":"true"}},[e._v("#")]),e._v(" Titanium.UI.WebView")]),e._v(" "),n("TypeHeader"),e._v(" "),n("h2",{attrs:{id:"overview"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),n("p",[e._v("Use the "),n("type-link",{attrs:{type:"Titanium.UI.createWebView"}},[e._v("Titanium.UI.createWebView")]),e._v(" method or "),n("strong",[n("code",[e._v("<WebView>")])]),e._v(" Alloy element to create a web view.")],1),e._v(" "),n("p",[e._v("Web views are more expensive to create than other native views because of the requirement to\nload the HTML browser into memory.")]),e._v(" "),n("p",[e._v("The web view content can be any valid web content such as HTML, PDF, SVG or other WebKit supported\ncontent types.")]),e._v(" "),n("h3",{attrs:{id:"javascript-context-in-webviews-local-vs-remote-content"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript-context-in-webviews-local-vs-remote-content","aria-hidden":"true"}},[e._v("#")]),e._v(" JavaScript Context in WebViews--Local vs. Remote Content")]),e._v(" "),n("p",[e._v("JavaScript in the web view executes in its own context.  The web view can interact with this\ncontent, but most of this functionality is limited to local content.")]),e._v(" "),n("p",[n("strong",[e._v("Local Scripts")])]),e._v(" "),n("p",[e._v("When running local web content\n(that is, content that is included in the application's resources), scripts have\naccess to the Titanium namespace. In particular, when running local web content:")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("You can use <Titanium.App.addEventListener> and\n<Titanium.App.fireEvent> to receive and send application-level events.")])]),e._v(" "),n("li",[n("p",[e._v("Events can be logged using the "),n("type-link",{attrs:{type:"Titanium.API"}},[e._v("Titanium.API")]),e._v(" logging methods.")],1)])]),e._v(" "),n("p",[n("strong",[e._v("Remote Scripts")])]),e._v(" "),n("p",[e._v("Scripts downloaded from remote web servers cannot access the Titanium namespace.")]),e._v(" "),n("p",[e._v("To interact with remote content, wait until the content is loaded, then use the\n"),n("type-link",{attrs:{type:"Titanium.UI.WebView.evalJS"}},[e._v("evalJS")]),e._v(" method to execute a JavaScript expression\ninside the web view and retrieve the value of an expression.")],1),e._v(" "),n("h3",{attrs:{id:"local-javascript-files"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#local-javascript-files","aria-hidden":"true"}},[e._v("#")]),e._v(" Local JavaScript Files")]),e._v(" "),n("p",[e._v("During the build process for creating a package, all JavaScript files, that is, any file with a\n'.js' extension, are removed and their content is encrypted and obfuscated into one resource,\ncausing these files to not load properly in a WebView if they are loaded externally.")]),e._v(" "),n("p",[e._v("For JavaScript files referenced in static local HTML files, these JavaScript files are omitted\nfrom processing and left intact, which means they can be correctly loaded in the WebView.")]),e._v(" "),n("p",[e._v("For local JavaScript files not referenced in static local HTML files, for example, a\ndynamically-generated HTML file referencing a local JavaScript file,\nrename the file extension of the local JavaScript files to '.jslocal' instead of '.js'.")]),e._v(" "),n("p",[e._v("The build process for testing your application on the simulator, emulator or device does not\naffect the loading of local JavaScript files.")]),e._v(" "),n("h3",{attrs:{id:"ios-platform-implementation-notes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ios-platform-implementation-notes","aria-hidden":"true"}},[e._v("#")]),e._v(" iOS Platform Implementation Notes")]),e._v(" "),n("p",[e._v("On the iOS platform, the native web view handles scrolling and other related touch\nevents internally. If you add event listeners on the web view "),n("strong",[e._v("or its parent views")]),e._v("\nfor any of the standard touch events ("),n("code",[e._v("touchstart")]),e._v(", "),n("code",[e._v("click")]),e._v(", and so on), these events\ndo not reach the native web view, and the user will not be able to scroll, zoom, click\non links, and so on. To prevent this default behavior, set\n"),n("type-link",{attrs:{type:"Titanium.UI.WebView.willHandleTouches"}},[e._v("willHandleTouches")]),e._v(" to "),n("code",[e._v("false")]),e._v(".")],1),e._v(" "),n("p",[e._v("In other words, you can have either Titanium-style events against the\nweb view instance, or internal JavaScript events in the DOM, but not both.")]),e._v(" "),n("h3",{attrs:{id:"android-platform-implementation-notes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#android-platform-implementation-notes","aria-hidden":"true"}},[e._v("#")]),e._v(" Android Platform Implementation Notes")]),e._v(" "),n("p",[n("strong",[e._v("Android 4.4 and Later Support")])]),e._v(" "),n("p",[e._v("Starting with Android 4.4 (API Level 19), the WebView component is based off of Chromium,\nintroducing a number of changes to its rendering engine.  Web content may look or behave\ndifferently depending on the Android version.  The WebView does not\nhave full feature parity with Chrome for Android.")]),e._v(" "),n("p",[e._v("By default, the Chromium WebView uses hardware acceleration, which may cause content to\nfail to render. If the WebView fails to render the content, the web view will clear\nitself, displaying only the default background color. The following log messages will be\ndisplayed in the console:")]),e._v(" "),n("pre",[n("code",[e._v("[WARN] :   AwContents: nativeOnDraw failed; clearing to background color.\n[INFO] :   chromium: [INFO:async_pixel_transfer_manager_android.cc(56)]\n")])]),e._v(" "),n("p",[e._v("To workaround this issue, you can enable software rendering by setting the WebView's\n"),n("a",{attrs:{href:"Titanium.UI.WebView.borderRadius"}},[e._v("borderRadius")]),e._v(" property to a value greater than zero.")]),e._v(" "),n("p",[e._v("If you are developing local HTML content and size your elements using percentages, the WebView may\nnot calculate the sizes correctly when hardware acceleration is enabled, resulting in the same\nbehavior previously mentioned.")]),e._v(" "),n("p",[e._v("To workaround this issue, you can use the previously mentioned workaround to enable software\nrendering, use absolute size values or use the\n"),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window.onresize",target:"_blank",rel:"noopener noreferrer"}},[e._v("onresize"),n("OutboundLink")],1),e._v(" event to set the\nheights of the components.  For example, if you have a div element with an id set to "),n("code",[e._v("component")]),e._v("\nthat needs to use the entire web view, the following callback resizes the content to use the\nfull height of the web view:")]),e._v(" "),n("pre",[n("code",[e._v("window.onresize= function(){\n    document.getElementById(\"component\").style.height = window.innerHeight + 'px';\n};\n")])]),e._v(" "),n("p",[e._v("For more information, see the following topics:")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.android.com/guide/webapps/migrating.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Android Developers: Migrating to WebView in Android 4.4"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://developer.chrome.com/multidevice/webview/overview",target:"_blank",rel:"noopener noreferrer"}},[e._v("Google Chrome: WebView for Android"),n("OutboundLink")],1)])]),e._v(" "),n("p",[n("strong",[e._v("Plugin Support")])]),e._v(" "),n("p",[e._v("The Android web view supports native plugins such as Flash Player. Note that the Chromium-based\nweb view introduced in Android 4.4 does not support the Flash Player plugin.")]),e._v(" "),n("p",[e._v("To use plugin content, you must set the "),n("type-link",{attrs:{type:"Titanium.UI.WebView.pluginState"}},[e._v("pluginState")]),e._v(" property\nto either "),n("type-link",{attrs:{type:"Titanium.UI.Android.WEBVIEW_PLUGINS_ON"}},[e._v("WEBVIEW_PLUGINS_ON")]),e._v(" or\n"),n("type-link",{attrs:{type:"Titanium.UI.Android.WEBVIEW_PLUGINS_ON_DEMAND"}},[e._v("WEBVIEW_PLUGINS_ON_DEMAND")]),e._v(".")],1),e._v(" "),n("p",[e._v("You must also call "),n("type-link",{attrs:{type:"Titanium.UI.WebView.pause"}},[e._v("pause")]),e._v(" when the current activity is\npaused, to prevent plugin content from continuing to run in the background. Call\n"),n("type-link",{attrs:{type:"Titanium.UI.WebView.resume"}},[e._v("resume")]),e._v(" when the current activity is resumed. You can\ndo this by adding listeners for the "),n("type-link",{attrs:{type:"Titanium.Android.Activity.pause"}},[e._v("Activity.pause")]),e._v("\nand "),n("type-link",{attrs:{type:"Titanium.Android.Activity.resume"}},[e._v("Activity.resume")]),e._v(" events.")],1),e._v(" "),n("p",[n("strong",[e._v("Accessing Cookies")])]),e._v(" "),n("p",[e._v("On Android, the web view uses the system cookie store which does not share cookies with the\n"),n("type-link",{attrs:{type:"Titanium.Network.HTTPClient"}},[e._v("Titanium.Network.HTTPClient")]),e._v(" cookie store. Developers can manage their cookies for both\ncookie stores using the methods "),n("type-link",{attrs:{type:"Titanium.Network.addHTTPCookie"}},[e._v("Titanium.Network.addHTTPCookie")]),e._v(", "),n("type-link",{attrs:{type:"Titanium.Network.addSystemCookie"}},[e._v("Titanium.Network.addSystemCookie")]),e._v(",\n"),n("type-link",{attrs:{type:"Titanium.Network.getHTTPCookies"}},[e._v("Titanium.Network.getHTTPCookies")]),e._v(", "),n("type-link",{attrs:{type:"Titanium.Network.getHTTPCookiesForDomain"}},[e._v("Titanium.Network.getHTTPCookiesForDomain")]),e._v(", "),n("type-link",{attrs:{type:"Titanium.Network.getSystemCookies"}},[e._v("Titanium.Network.getSystemCookies")]),e._v(",\n"),n("type-link",{attrs:{type:"Titanium.Network.removeHTTPCookie"}},[e._v("Titanium.Network.removeHTTPCookie")]),e._v(", "),n("type-link",{attrs:{type:"Titanium.Network.removeHTTPCookiesForDomain"}},[e._v("Titanium.Network.removeHTTPCookiesForDomain")]),e._v(", "),n("type-link",{attrs:{type:"Titanium.Network.removeAllHTTPCookies"}},[e._v("Titanium.Network.removeAllHTTPCookies")]),e._v(",\n"),n("type-link",{attrs:{type:"Titanium.Network.removeSystemCookie"}},[e._v("Titanium.Network.removeSystemCookie")]),e._v(", "),n("type-link",{attrs:{type:"Titanium.Network.removeAllSystemCookies"}},[e._v("Titanium.Network.removeAllSystemCookies")]),e._v(".")],1),e._v(" "),n("h3",{attrs:{id:"for-more-information"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#for-more-information","aria-hidden":"true"}},[e._v("#")]),e._v(" For More Information")]),e._v(" "),n("p",[e._v("See "),n("a",{attrs:{href:"https://docs.appcelerator.com/platform/latest/#!/guide/Integrating_Web_Content",target:"_blank",rel:"noopener noreferrer"}},[e._v("Integrating Web\nContent"),n("OutboundLink")],1),e._v("\nin the Titanium Mobile Guides for more information on using web views, including use\ncases, more code examples, and best practices for web view content.")]),e._v(" "),n("ApiDocs")],1)},[],!1,null,null,null);t.default=o.exports}}]);